{"ast":null,"code":"import { userApi } from \"../utils/api\";\nimport history from '../utils/history';\nexport var userService = {\n  login: login,\n  logout: logout,\n  register: register\n};\n\nfunction login(email, password) {\n  return new Promise(function (resolve, reject) {\n    userApi.login(email, password).then(function (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user)); // redirect to board \n\n      history.push('/');\n      resolve(user);\n    }, function (error) {\n      localStorage.setItem(\"user\", {});\n      reject(error);\n    });\n  });\n}\n\nfunction logout() {\n  localStorage.removeItem(\"user\");\n}\n\nfunction register(user) {\n  return new Promise(function (resolve, reject) {\n    userApi.register(user).then(function (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user)); // redirect to board \n\n      history.push('/');\n      resolve(user);\n    }, function (error) {\n      localStorage.setItem(\"user\", {});\n      reject(error);\n    });\n  });\n}","map":{"version":3,"sources":["/home/garonz/workspace/task-tracker/src/services/services.js"],"names":["userApi","history","userService","login","logout","register","email","password","Promise","resolve","reject","then","user","localStorage","setItem","JSON","stringify","push","error","removeItem"],"mappings":"AAAA,SAASA,OAAT,QAAwB,cAAxB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,OAAO,IAAMC,WAAW,GAAG;AACzBC,EAAAA,KAAK,EAALA,KADyB;AAEzBC,EAAAA,MAAM,EAANA,MAFyB;AAGzBC,EAAAA,QAAQ,EAARA;AAHyB,CAApB;;AAMP,SAASF,KAAT,CAAeG,KAAf,EAAsBC,QAAtB,EAAgC;AAC9B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCV,IAAAA,OAAO,CACJG,KADH,CACSG,KADT,EACgBC,QADhB,EAEGI,IAFH,CAEQ,UAAAC,IAAI,EAAI;AACZC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B,EADY,CAEZ;;AACAX,MAAAA,OAAO,CAACgB,IAAR,CAAa,GAAb;AACAR,MAAAA,OAAO,CAACG,IAAD,CAAP;AACD,KAPH,EAQE,UAAAM,KAAK,EAAI;AACPL,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,EAA7B;AACAJ,MAAAA,MAAM,CAACQ,KAAD,CAAN;AACD,KAXH;AAYD,GAbM,CAAP;AAcD;;AAED,SAASd,MAAT,GAAkB;AAChBS,EAAAA,YAAY,CAACM,UAAb,CAAwB,MAAxB;AACD;;AAED,SAASd,QAAT,CAAkBO,IAAlB,EAAwB;AACtB,SAAO,IAAIJ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCV,IAAAA,OAAO,CACJK,QADH,CACYO,IADZ,EAEGD,IAFH,CAEQ,UAAAC,IAAI,EAAI;AACZC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B,EADY,CAEZ;;AACAX,MAAAA,OAAO,CAACgB,IAAR,CAAa,GAAb;AACAR,MAAAA,OAAO,CAACG,IAAD,CAAP;AACD,KAPH,EAQE,UAAAM,KAAK,EAAI;AACPL,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,EAA7B;AACAJ,MAAAA,MAAM,CAACQ,KAAD,CAAN;AACD,KAXH;AAYD,GAbM,CAAP;AAcD","sourcesContent":["import { userApi } from \"../utils/api\";\nimport history from '../utils/history'\n\nexport const userService = {\n  login,\n  logout,\n  register\n};\n\nfunction login(email, password) {\n  return new Promise((resolve, reject) => {\n    userApi\n      .login(email, password)\n      .then(user => {\n        localStorage.setItem(\"user\", JSON.stringify(user));\n        // redirect to board \n        history.push('/');\n        resolve(user);\n      },\n      error => {\n        localStorage.setItem(\"user\", {});\n        reject(error);\n      });\n  });\n}\n\nfunction logout() {\n  localStorage.removeItem(\"user\");\n}\n\nfunction register(user) {\n  return new Promise((resolve, reject) => {\n    userApi\n      .register(user)\n      .then(user => {\n        localStorage.setItem(\"user\", JSON.stringify(user));\n        // redirect to board \n        history.push('/');\n        resolve(user);\n      },\n      error => {\n        localStorage.setItem(\"user\", {});\n        reject(error);\n      });\n  });\n}\n"]},"metadata":{},"sourceType":"module"}