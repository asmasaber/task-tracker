{"ast":null,"code":"import { userApi } from \"../utils/api\";\nimport { history } from \"../history\";\nexport var userService = {\n  login: login,\n  logout: logout,\n  register: register\n};\n\nfunction login(email, password) {\n  return new Promise(function (resolve, reject) {\n    userApi.login(email, password).then(function (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user)); // redirect to board \n\n      history.pushState(\"/\");\n      resolve(user);\n    }, function (error) {\n      localStorage.setItem(\"user\", JSON.stringify({}));\n      reject(error);\n    });\n  });\n}\n\nfunction logout() {\n  localStorage.removeItem(\"user\");\n}\n\nfunction register(user) {\n  return new Promise(function (resolve, reject) {\n    userApi.register(user).then(function (user) {\n      localStorage.setItem(\"user\", JSON.stringify(user)); // redirect to board \n\n      history.push(\"/login\");\n      resolve(user);\n    }, function (error) {\n      localStorage.setItem(\"user\", JSON.stringify({}));\n      reject(error);\n    });\n  });\n}","map":{"version":3,"sources":["/home/garonz/workspace/task-tracker/src/services/services.js"],"names":["userApi","history","userService","login","logout","register","email","password","Promise","resolve","reject","then","user","localStorage","setItem","JSON","stringify","pushState","error","removeItem","push"],"mappings":"AAAA,SAASA,OAAT,QAAwB,cAAxB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AAEA,OAAO,IAAMC,WAAW,GAAG;AACvBC,EAAAA,KAAK,EAALA,KADuB;AAEvBC,EAAAA,MAAM,EAANA,MAFuB;AAGvBC,EAAAA,QAAQ,EAARA;AAHuB,CAApB;;AAMP,SAASF,KAAT,CAAeG,KAAf,EAAsBC,QAAtB,EAAgC;AAC5B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCV,IAAAA,OAAO,CACFG,KADL,CACWG,KADX,EACkBC,QADlB,EAEKI,IAFL,CAEU,UAAAC,IAAI,EAAI;AACVC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B,EADU,CAEV;;AACAX,MAAAA,OAAO,CAACgB,SAAR,CAAkB,GAAlB;AACAR,MAAAA,OAAO,CAACG,IAAD,CAAP;AACH,KAPL,EAQI,UAAAM,KAAK,EAAI;AACLL,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA7B;AACAN,MAAAA,MAAM,CAACQ,KAAD,CAAN;AACH,KAXL;AAYH,GAbM,CAAP;AAcH;;AAED,SAASd,MAAT,GAAkB;AACdS,EAAAA,YAAY,CAACM,UAAb,CAAwB,MAAxB;AACH;;AAED,SAASd,QAAT,CAAkBO,IAAlB,EAAwB;AACpB,SAAO,IAAIJ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCV,IAAAA,OAAO,CACFK,QADL,CACcO,IADd,EAEKD,IAFL,CAEU,UAAAC,IAAI,EAAI;AACVC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAA7B,EADU,CAEV;;AACAX,MAAAA,OAAO,CAACmB,IAAR,CAAa,QAAb;AACAX,MAAAA,OAAO,CAACG,IAAD,CAAP;AACH,KAPL,EAQI,UAAAM,KAAK,EAAI;AACLL,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA7B;AACAN,MAAAA,MAAM,CAACQ,KAAD,CAAN;AACH,KAXL;AAYH,GAbM,CAAP;AAcH","sourcesContent":["import { userApi } from \"../utils/api\";\nimport {history} from \"../history\";\n\nexport const userService = {\n    login,\n    logout,\n    register\n};\n\nfunction login(email, password) {\n    return new Promise((resolve, reject) => {\n        userApi\n            .login(email, password)\n            .then(user => {\n                localStorage.setItem(\"user\", JSON.stringify(user));\n                // redirect to board \n                history.pushState(\"/\");\n                resolve(user);\n            },\n            error => {\n                localStorage.setItem(\"user\", JSON.stringify({}));\n                reject(error);\n            });\n    });\n}\n\nfunction logout() {\n    localStorage.removeItem(\"user\");\n}\n\nfunction register(user) {\n    return new Promise((resolve, reject) => {\n        userApi\n            .register(user)\n            .then(user => {\n                localStorage.setItem(\"user\", JSON.stringify(user));\n                // redirect to board \n                history.push(\"/login\");\n                resolve(user);\n            },\n            error => {\n                localStorage.setItem(\"user\", JSON.stringify({}));\n                reject(error);\n            });\n    });\n}\n"]},"metadata":{},"sourceType":"module"}